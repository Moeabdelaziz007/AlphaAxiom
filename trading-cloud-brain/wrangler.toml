name = "trading-brain-v1"
main = "src/worker.py"
account_id = "f4b5d0354439ce71e91063e477b4d60c" 
compatibility_date = "2024-04-05"
compatibility_flags = ["python_workers"]

# ğŸŒ Deploy to workers.dev (no custom domain needed)
workers_dev = true

# â° THE HEARTBEAT: Single Cron (Free Tier Limit)
# Internal dispatch logic in worker.py handles 5min/4hr cycles
[triggers]
crons = ["* * * * *"]

# ğŸ§  MEMORY: KV Namespace
[[kv_namespaces]]
binding = "BRAIN_MEMORY"
id = "b2623ff0d28342c799dae14fae4eb512"

# ğŸ’¾ DATABASE: D1 (SQLite at Edge)
[[d1_databases]]
binding = "TRADING_DB"
database_name = "trading-brain-db"

# ğŸ¤– AI: Workers AI (FREE LLMs - 10K neurons/day)
[ai]
binding = "AI"

# ğŸ”‘ Environment Variables (Non-sensitive only)
[vars]
CAPITAL_DEMO = "true"

# ==========================================
# ğŸ” SECRETS MANAGEMENT
# ==========================================
# Secrets are encrypted and set via `wrangler secret put <NAME>`
# They are NOT stored in this file for security!
#
# Required Secrets:
# wrangler secret put ABLY_API_KEY
# wrangler secret put GROQ_API_KEY
# wrangler secret put DEEPSEEK_API_KEY
# wrangler secret put ALPACA_KEY
# wrangler secret put ALPACA_SECRET
# wrangler secret put CAPITAL_API_KEY
# wrangler secret put CAPITAL_EMAIL
# wrangler secret put CAPITAL_PASSWORD
#
# For local development, create a `.dev.vars` file with these keys.
# The `.dev.vars` file is automatically ignored by git.

